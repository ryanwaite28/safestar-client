<div>
  <div>
    <div class="mb-3 card-box">
      <p class="mb-3 text-2xl">Checkpoints Sent</p>
      <div class="flex flex-col gap-3">
        <div *ngFor="let checkpoint of checkpoints_sent">
          <div class="border-gray-1 p-3">
            <div class="">
              <div class="flex flex-col sm:flex-row gap-4">
                <div class="w-full sm:w-1/3">
                  <app-user-info
                    [user]="checkpoint.check_user!"
                  ></app-user-info>
                </div>
                <div class="w-full sm:w-2/3">
                  <p class="text-grey">
                    <small><em>Sent: {{ checkpoint.created_at | date : 'MMM d, y (h:mm a)' }} - {{ checkpoint.created_at | timeAgo }}</em></small>
                    <br/>
                    <small><em>Expires: {{ checkpoint.date_expires | date : 'MMM d, y (h:mm a)' }} - {{ checkpoint.date_expires | timeAgo }}</em></small>
                    <span *ngIf="checkpoint.date_check_responded">
                      <br/>
                      <small><em>Responded: {{ checkpoint.date_check_responded | date : 'MMM d, y (h:mm a)' }} - {{ checkpoint.date_check_responded | timeAgo }}</em></small>
                    </span>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <div class="mt-3" *ngIf="!checkpoints_sent_end_reached">
        <button
          (click)="getCheckpointsSent()"
          title="Load more"
          class="btn-blue"
          [disabled]="checkpoints_sent_loading"
        >
          <i class="fas fa-sync mr-2"></i>
          Load More
        </button>
      </div>
    </div>
  
    <div class="mb-3 card-box">
      <p class="mb-3 text-2xl">Checkpoints Received</p>
      <div class="flex flex-col gap-3">
        <div *ngFor="let checkpoint of checkpoints_received">
          <div class="border-gray-1 p-3">
            <div class="">
              <div class="flex flex-col sm:flex-row gap-4">
                <div class="w-full sm:w-1/3">
                  <app-user-info
                    [user]="checkpoint.user!"
                  ></app-user-info>
                </div>
                <div class="w-full sm:w-2/3">
                  <p class="text-grey">
                    <small><em>Received: {{ checkpoint.created_at | date : 'MMM d, y (h:mm a)' }} - {{ checkpoint.created_at | timeAgo }}</em></small>
                    <br/>
                    <small><em>Expires: {{ checkpoint.date_expires | date : 'MMM d, y (h:mm a)' }} - {{ checkpoint.date_expires | timeAgo }}</em></small>
                    <span *ngIf="checkpoint.date_check_responded">
                      <br/>
                      <small><em>Responded: {{ checkpoint.date_check_responded | date : 'MMM d, y (h:mm a)' }} - {{ checkpoint.date_check_responded | timeAgo }}</em></small>
                    </span>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <div class="mt-3" *ngIf="!checkpoints_received_end_reached">
        <button
          (click)="getCheckpointsReceived()"
          title="Load more"
          class="btn-blue"
          [disabled]="checkpoints_received_loading"
        >
          <i class="fas fa-sync mr-2"></i>
          Load More
        </button>
      </div>
    </div>
  
    
    
    <div class="mb-3 card-box">
      <p class="mb-3 text-2xl">Checkpoints Sent (Pending)</p>
      <div class="flex flex-col gap-3">
        <div *ngFor="let checkpoint of checkpoints_sent_pending">
          <div class="border-gray-1 p-3">
            <div class="">
              <div class="flex flex-col sm:flex-row gap-4">
                <div class="w-full sm:w-1/3">
                  <app-user-info
                    [user]="checkpoint.check_user!"
                  ></app-user-info>
                </div>
                <div class="w-full sm:w-2/3">
                  <p class="text-grey">
                    <small><em>Sent: {{ checkpoint.created_at | date : 'MMM d, y (h:mm a)' }} - {{ checkpoint.created_at | timeAgo }}</em></small>
                    <br/>
                    <small><em>Expires: {{ checkpoint.date_expires | date : 'MMM d, y (h:mm a)' }} - {{ checkpoint.date_expires | timeAgo }}</em></small>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <div class="mt-3" *ngIf="!checkpoints_sent_pending_end_reached">
        <button
          (click)="getCheckpointsSentPending()"
          title="Load more"
          class="btn-blue"
          [disabled]="checkpoints_sent_pending_loading"
        >
          <i class="fas fa-sync mr-2"></i>
          Load More
        </button>
      </div>
    </div>
  
    <div class="mb-3 card-box">
      <p class="mb-3 text-2xl">Checkpoints Received (Pending)</p>
      <div class="flex flex-col gap-3">
        <div *ngFor="let checkpoint of checkpoints_received_pending">
          <div class="border-gray-1 p-3">
            <div class="">
              <div class="flex flex-col sm:flex-row gap-4">
                <div class="w-full sm:w-1/3">
                  <app-user-info
                    [user]="checkpoint.user!"
                  ></app-user-info>
                </div>
                <div class="w-full sm:w-2/3">
                  <p class="text-grey">
                    <small><em>Received: {{ checkpoint.created_at | date : 'MMM d, y (h:mm a)' }} - {{ checkpoint.created_at | timeAgo }}</em></small>
                    <br/>
                    <small><em>Expires: {{ checkpoint.date_expires | date : 'MMM d, y (h:mm a)' }} - {{ checkpoint.date_expires | timeAgo }}</em></small>
                  </p>
                  <button
                    (click)="sendOkResponse(checkpoint)"
                    title="Send Ok Response"
                    class="btn-blue"
                    [disabled]="loading"
                  >
                    <i class="fa-solid fa-thumbs-up mr-2"></i>
                    Send OK Response
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <div class="mt-3" *ngIf="!checkpoints_received_pending_end_reached">
        <button
          (click)="getCheckpointsReceivedPending()"
          title="Load more"
          class="btn-blue"
          [disabled]="checkpoints_received_pending_loading"
        >
          <i class="fas fa-sync mr-2"></i>
          Load More
        </button>
      </div>
    </div>
  </div>
</div>